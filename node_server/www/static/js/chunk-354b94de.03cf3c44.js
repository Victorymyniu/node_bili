(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-354b94de"],{"2f21":function(e,t,n){"use strict";var l=n("79e5");e.exports=function(e,t){return!!e&&l((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},"55dd":function(e,t,n){"use strict";var l=n("5ca1"),a=n("d8e8"),o=n("4bf8"),s=n("79e5"),i=[].sort,r=[1,2,3];l(l.P+l.F*(s((function(){r.sort(void 0)}))||!s((function(){r.sort(null)}))||!n("2f21")(i)),"Array",{sort:function(e){return void 0===e?i.call(o(this)):i.call(o(this),a(e))}})},7927:function(e,t,n){"use strict";n.r(t);var l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-form",{attrs:{inline:!0,"label-position":"left"}},[n("el-form-item",[n("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.handleCreate}},[e._v("\n          添加\n        ")]),e._v(" "),n("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.openAll}},[e._v("\n          全部展开\n        ")]),e._v(" "),n("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.closeAll}},[e._v("\n          全部折叠\n        ")])],1)],1)],1),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,"row-key":"id",border:"",fit:"","highlight-current-row":"","header-cell-style":{background:"#f7f7f7"},"tree-props":{children:"children",hasChildren:"hasChildren"},"default-expand-all":""}},[n("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"80"}}),e._v(" "),n("el-table-column",{attrs:{label:"菜单名称","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.menuName))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"菜单url",align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.url))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"菜单path",align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.path))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"请求类型",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.pathMethod))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"排序号",width:"90",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.sort))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"类型",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[n("el-tag",{attrs:{type:e.tags[l.menuType].type}},[e._v("\n          "+e._s(e.tags[l.menuType].name)+"\n        ")])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center",width:"150","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[n("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.handleEdit(l)}}},[e._v("\n          修改\n        ")]),e._v(" "),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.openMessageBox(l.id)}}},[e._v("\n          删除\n        ")])]}}])})],1),e._v(" "),n("el-dialog",{attrs:{title:e.textMap[e.dialogStatus],visible:e.menuFormVisible,width:"35%"},on:{"update:visible":function(t){e.menuFormVisible=t}}},[n("el-form",{ref:"menuForm",attrs:{model:e.menuInfo,rules:e.menuRules,"label-position":"left","label-width":"80px"}},[n("el-form-item",{attrs:{label:"菜单名称",prop:"menuName"}},[n("el-input",{attrs:{placeholder:"请输入菜单名称"},model:{value:e.menuInfo.menuName,callback:function(t){e.$set(e.menuInfo,"menuName",t)},expression:"menuInfo.menuName"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"菜单URL",prop:"url"}},[n("el-input",{attrs:{placeholder:"请输入菜单URL"},model:{value:e.menuInfo.url,callback:function(t){e.$set(e.menuInfo,"url",t)},expression:"menuInfo.url"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"菜单PATH",prop:"path"}},[n("el-input",{attrs:{placeholder:"请输入菜单PATH"},model:{value:e.menuInfo.path,callback:function(t){e.$set(e.menuInfo,"path",t)},expression:"menuInfo.path"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"菜单类型",prop:"menuType"}},[n("el-select",{attrs:{placeholder:"请选择菜单类型"},model:{value:e.menuInfo.menuType,callback:function(t){e.$set(e.menuInfo,"menuType",t)},expression:"menuInfo.menuType"}},e._l(e.menuTypeListOptions,(function(e,t){return n("el-option",{key:e+t,attrs:{label:e,value:t}})})),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"请求方法",prop:"pathMethod"}},[n("el-select",{attrs:{placeholder:"请选择请求方法"},model:{value:e.menuInfo.pathMethod,callback:function(t){e.$set(e.menuInfo,"pathMethod",t)},expression:"menuInfo.pathMethod"}},e._l(e.pathMethodListOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"排序号",prop:"sort"}},[n("el-input",{attrs:{placeholder:"请输入排序号"},model:{value:e.menuInfo.sort,callback:function(t){e.$set(e.menuInfo,"sort",t)},expression:"menuInfo.sort"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"上级菜单",prop:"parentId"}},[n("el-select",{attrs:{placeholder:"请选择上级菜单"},model:{value:e.menuInfo.parentId,callback:function(t){e.$set(e.menuInfo,"parentId",t)},expression:"menuInfo.parentId"}},e._l(e.parentMenuListOptions,(function(e,t){return n("el-option",{key:t,attrs:{label:e.menuName,value:e.id}})})),1)],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.menuFormVisible=!1}}},[e._v("\n        取消\n      ")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("menuForm")}}},[e._v("\n        保存\n      ")])],1)],1)],1)},a=[],o=(n("55dd"),n("b775"));function s(){return Object(o["a"])({url:"/menu/list",method:"get"})}function i(){return Object(o["a"])({url:"/menu/listSelect",method:"get"})}function r(e){return Object(o["a"])({url:"/menu/saveOrUpdate",method:"post",data:JSON.stringify(e),headers:{"Content-Type":"application/json;charset=UTF-8"}})}function u(e){return Object(o["a"])({url:"/menu/delete",method:"delete",params:e})}var c={name:"MenuManage",data:function(){return{list:null,tags:[{name:"目录",type:""},{name:"菜单",type:"success"},{name:"接口",type:"info"}],menuTypeListOptions:["目录","菜单","接口"],pathMethodListOptions:["get","post","delete","put"],parentMenuListOptions:[],menuInfo:{id:null,menuName:"",menuType:"",parentId:"",path:"",pathMethod:"",sort:"",url:""},menuFormVisible:!1,menuRules:{menuName:[{required:!0,message:"菜单名称是必填的",trigger:"blur"}],menuType:[{required:!0,message:"菜单类型是必填的",trigger:"change"}],parentId:[{required:!0,message:"上级菜单是必填的",trigger:"change"}],sort:[{required:!0,message:"排序号是必填的",trigger:"blur"}]},dialogStatus:"",textMap:{update:"修改菜单",create:"添加菜单"},listLoading:!0,isExpand:!1}},created:function(){this.getList(),this.getParentMenuList()},methods:{getList:function(){var e=this;this.listLoading=!0,s().then((function(t){e.list=t.datas,e.listLoading=!1}))},getParentMenuList:function(){var e=this;i().then((function(t){e.parentMenuListOptions=t.datas}))},openAll:function(){for(var e=this.$el.getElementsByClassName("el-table__expand-icon"),t=0;t<e.length;t++)-1===e[t].className.indexOf("el-table__expand-icon--expanded")&&e[t].click()},closeAll:function(){for(var e=this.$el.getElementsByClassName("el-table__expand-icon--expanded"),t=0;t<e.length;t++)e[t].click()},handleFilter:function(){this.getList()},handleCreate:function(){var e=this;this.menuInfo.id=null,this.dialogStatus="create",this.menuFormVisible=!0,this.$nextTick((function(){e.$refs["menuForm"].resetFields()}))},handleEdit:function(e){var t=this;this.dialogStatus="update",this.menuFormVisible=!0,this.$nextTick((function(){t.$refs["menuForm"].resetFields();var n=e.id,l=e.menuName,a=e.menuType,o=e.parentId,s=e.path,i=e.pathMethod,r=e.sort,u=e.url;t.menuInfo={id:n,menuName:l,menuType:a,parentId:o,path:s,pathMethod:i,sort:r,url:u}}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;r(t.menuInfo).then((function(e){0===e.code?(t.menuFormVisible=!1,t.$notify({title:"Success",message:"create"===t.dialogStatus?"菜单添加成功":"菜单修改成功",type:"success",duration:2e3}),t.getList(),t.getParentMenuList()):t.$message({showClose:!0,message:e.msg,type:"error"})}))}))},openMessageBox:function(e){var t=this,n={id:e};this.$confirm("此操作将删除该菜单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){u(n).then((function(e){0===e.code?(t.$message({showClose:!0,type:"success",message:e.msg}),t.getList(),t.getParentMenuList()):t.$message({showClose:!0,type:"error",message:e.msg})}))})).catch((function(){t.$message({showClose:!0,type:"info",message:"已取消删除"})}))}}},m=c,p=(n("f276"),n("2877")),d=Object(p["a"])(m,l,a,!1,null,null,null);t["default"]=d.exports},"8a20":function(e,t,n){},f276:function(e,t,n){"use strict";var l=n("8a20"),a=n.n(l);a.a}}]);